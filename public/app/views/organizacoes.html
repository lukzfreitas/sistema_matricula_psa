<div class="bs-docs-section" ng-controller="organizacoesController">
  <div class="row">
    <div class="col-lg-12">
      <div class="page-header">
        <h1 id="tables">Organizações</h1>
      </div>
      <div class="bs-component">
        <md-button href="#/nova-organizacao" class="md-raised md-primary">Nova Organização</md-button>
        <div class="col-md-3 col-xs-6">
            <div layout-gt-xs="row">
              <md-input-container flex-gt-xs>
                <label>Pesquisa por área de interesse</label>
                <input ng-model="organizacao.pesquisa">
              </md-input-container>
            </div>
          </div>
          <div class="col-md-1 col-xs-2">
            <div layout-gt-xs="row">
              <md-input-container flex-gt-xs>
                <md-button class="md-icon-button" ng-click="buscar()">
                  <img src="images/search.png" height="26" width="26" aria-label="Buscar">
                </md-button>
              </md-input-container>
            </div>
          </div>
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th class="ng-binding col-md-2 col-xs-2">Nome da Organização</th>
              <th class="ng-binding col-md-2 col-xs-2">E-mail</th>
              <th class="ng-binding col-md-2 col-xs-2">Nome do Responsável</th>
              <th class="ng-binding col-md-2 col-xs-2">Area interesse</th>
              <th class="ng-binding col-md-1 col-xs-1"></th>
              <th class="ng-binding col-md-1 col-xs-1"></th>
              <th class="ng-binding col-md-1 col-xs-1"></th>              
            </tr>
            <td ng-show="organizacoes.length === 0"><label> Nenhuma organização encontrada </label></td>
          </thead>
          <tbody>
            <tr ng-repeat="organizacao in organizacoes track by $index">
              <td class="ng-binding col-md-2 col-xs-2">{{organizacao.nome_organizacao}}</td>
              <td class="ng-binding col-md-2 col-xs-2">{{organizacao.email}}</td>
              <td class="ng-binding col-md-2 col-xs-2">{{organizacao.nome_responsavel}}</td>
              <td class="ng-binding col-md-2 col-xs-2">
                  <div ng-repeat=" area_interesse in organizacao.areas_interesse | limitTo: 3">
                      {{area_interesse}}
                    </div>
              </td>
              <td class="ng-binding col-md-1 col-xs-1">
                <div ng-if="organizacao.oportunidades.length">
                  <md-button ng-click="oportunidades(organizacao.oportunidades)" class="md-primary">oportunidades</md-button>
                </div>
                <div ng-if="!organizacao.oportunidades.length">
                  Não há oportunidades
                </div>
              </td>
              <td class="ng-binding col-md-1 col-xs-1">
                <md-button ng-click="editar(organizacao)" class="md-primary">editar</md-button>
              </td>
              <td class="ng-binding col-md-1 col-xs-1">
                <md-button ng-click="deletar($index, organizacoes, organizacao)" class="md-accent">deletar</md-button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>